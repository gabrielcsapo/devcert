"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const node_fetch_1 = require("node-fetch");
/**
 * Returns the remote box's certificate
 * @param hostname - hostname of the remote machine
 * @param port - port to connect the remote machine
 */
async function getRemoteCertificate(hostname, port) {
    const response = await node_fetch_1.default(`http://${hostname}:${port}/get_remote_certificate`);
    return await response.text();
}
exports.getRemoteCertificate = getRemoteCertificate;
/**
 * Closes the remote server
 * @param hostname - hostname of the remote machine
 * @param port - port to connect the remote machine
 *
 * @public
 */
async function closeRemoteServer(hostname, port) {
    try {
        const response = await node_fetch_1.default(`http://${hostname}:${port}/close_remote_server`);
        return await response.text();
    }
    catch (err) {
        throw new Error(err);
    }
}
exports.closeRemoteServer = closeRemoteServer;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVtb3RlLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvcmVtb3RlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQStCO0FBRS9COzs7O0dBSUc7QUFDSSxLQUFLLFVBQVUsb0JBQW9CLENBQ3hDLFFBQWdCLEVBQ2hCLElBQVk7SUFFWixNQUFNLFFBQVEsR0FBRyxNQUFNLG9CQUFLLENBQzFCLFVBQVUsUUFBUSxJQUFJLElBQUkseUJBQXlCLENBQ3BELENBQUM7SUFDRixPQUFPLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9CLENBQUM7QUFSRCxvREFRQztBQUVEOzs7Ozs7R0FNRztBQUNJLEtBQUssVUFBVSxpQkFBaUIsQ0FDckMsUUFBZ0IsRUFDaEIsSUFBWTtJQUVaLElBQUk7UUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLG9CQUFLLENBQzFCLFVBQVUsUUFBUSxJQUFJLElBQUksc0JBQXNCLENBQ2pELENBQUM7UUFDRixPQUFPLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0tBQzlCO0lBQUMsT0FBTyxHQUFHLEVBQUU7UUFDWixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQztBQVpELDhDQVlDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoIGZyb20gJ25vZGUtZmV0Y2gnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlbW90ZSBib3gncyBjZXJ0aWZpY2F0ZVxuICogQHBhcmFtIGhvc3RuYW1lIC0gaG9zdG5hbWUgb2YgdGhlIHJlbW90ZSBtYWNoaW5lXG4gKiBAcGFyYW0gcG9ydCAtIHBvcnQgdG8gY29ubmVjdCB0aGUgcmVtb3RlIG1hY2hpbmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlbW90ZUNlcnRpZmljYXRlKFxuICBob3N0bmFtZTogc3RyaW5nLFxuICBwb3J0OiBudW1iZXJcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgYGh0dHA6Ly8ke2hvc3RuYW1lfToke3BvcnR9L2dldF9yZW1vdGVfY2VydGlmaWNhdGVgXG4gICk7XG4gIHJldHVybiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG59XG5cbi8qKlxuICogQ2xvc2VzIHRoZSByZW1vdGUgc2VydmVyXG4gKiBAcGFyYW0gaG9zdG5hbWUgLSBob3N0bmFtZSBvZiB0aGUgcmVtb3RlIG1hY2hpbmVcbiAqIEBwYXJhbSBwb3J0IC0gcG9ydCB0byBjb25uZWN0IHRoZSByZW1vdGUgbWFjaGluZVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlUmVtb3RlU2VydmVyKFxuICBob3N0bmFtZTogc3RyaW5nLFxuICBwb3J0OiBudW1iZXJcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwOi8vJHtob3N0bmFtZX06JHtwb3J0fS9jbG9zZV9yZW1vdGVfc2VydmVyYFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gIH1cbn1cbiJdfQ==